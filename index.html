<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PWA UI Demo</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0C0D11">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <style>
    /* カラーパレット */
    :root {
      --back-primary: #0C0D11;
      --back-primary02: #6745F1;
      --back-primary03: #3E3E5D;
      --text-white: #FFF;
    }

    /* ベーススタイル */
    body {
      margin: 0;
      padding: 0;
      font-family: Helvetica, sans-serif;
      background: var(--back-primary);
      color: var(--text-white);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    /* コンテナ */
    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 390px;
      max-width: 100%;
    }

    /* ヘッダー */
    .header {
      display: flex;
      height: 50px;
      padding: 8px 16px;
      justify-content: flex-end;
      align-items: center;
      gap: 16px;
      width: 100%;
      background: var(--back-primary);
      box-sizing: border-box;
    }

    /* 検索バー */
    .search-container {
      display: flex;
      padding: 0px 12px;
      justify-content: flex-end;
      align-items: center;
      gap: 10px;
      flex: 1;
      border-radius: 16px;
      border: 1px solid var(--back-primary03);
    }

    /* 解析前の埋め込みエリア */
    .pre-embed-container {
      display: flex;
      height: 219px;
      justify-content: center;
      align-items: center;
      width: 100%;
      background: #000;
    }

    /* セグメント選択 */
    .segment-container {
      display: flex;
      width: 100%;
      max-width: 390px;
      height: 30px;
      justify-content: center;
      align-items: center;
      gap: 8px;
    }

    /* 各タブ */
    .tab {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
      border-radius: 8px;
      border: 1px solid var(--back-primary03);
      background: transparent;
      color: var(--back-primary03);
      font-size: 16px;
      padding: 4px 8px;
      cursor: pointer;
      transition: all 0.3s ease-in-out;
      flex: 1;
    }

    /* 選択時 */
    .tab.active {
      background: var(--back-primary02);
      box-shadow: 0px 0px 4px 0px #6745F1;
      border: none;
      color: white;
      flex: 2;
    }

    /* グラフ表示エリア */
    .graph-display-area {
      display: flex;
      padding: 4px;
      flex-direction: column;
      justify-content: center;
      align-items: flex-start;
      width: 100%;
      background: #222;
      color: var(--text-white);
    }

    /* グラフ種類選択セグメント */
    .graph-segment {
      display: flex;
      padding: 4px;
      align-items: flex-start;
      gap: 4px;
      width: 100%;
      border-radius: 8px;
      border: 1px solid var(--back-primary03);
      background: var(--back-primary);
    }

    /* 各グラフボタン */
    .graph-tab {
      display: flex;
      width: 42px;
      justify-content: center;
      align-items: center;
      aspect-ratio: 1/1;
      border-radius: 4px;
      background: transparent;
      cursor: pointer;
      transition: all 0.3s ease-in-out;
      border: none;
    }

    /* 選択状態 */
    .graph-tab.active {
      background: var(--back-primary02);
      box-shadow: 0px 0px 10px 0px #6745F1;
    }

  </style>
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("service-worker.js")
        .then(() => console.log("Service Worker Registered"))
        .catch(error => console.log("Service Worker Registration Failed:", error));
    }

    function selectTab(tab) {
      document.querySelectorAll('.tab').forEach(tabElement => {
        tabElement.classList.remove('active');
      });
      document.querySelector(`.${tab}-tab`).classList.add('active');
    }

    function selectGraph(type) {
      document.querySelectorAll('.graph-tab').forEach(tabElement => {
        tabElement.classList.remove('active');
      });
      document.querySelector(`.${type}-tab`).classList.add('active');
    }

  </script>
</head>
<body>
  <div class="container">
    <!-- ヘッダー -->
    <div class="header">
      <div class="search-container">
        🔍
      </div>
    </div>

    <!-- 解析前の埋め込みエリア -->
    <div class="pre-embed-container">
      <div class="text">検索バーから動画を選んでください</div>
    </div>

    <!-- セグメント選択 -->
    <div class="segment-container">
      <button class="tab comment-tab" onclick="selectTab('comment')">💬</button>
      <button class="tab graph-tab active" onclick="selectTab('graph')">📊</button>
      <button class="tab info-tab" onclick="selectTab('info')">ℹ️</button>
    </div>

    <!-- グラフエリア -->
    <div class="graph-display-area">
      グラフがここに表示されます
    </div>

    <!-- グラフ選択 -->
    <div class="graph-segment">
      <button class="graph-tab bar-tab active" onclick="selectGraph('bar')">▇</button>
      <button class="graph-tab line-tab" onclick="selectGraph('line')">📈</button>
    </div>
  </div>
</body>
</html>
